# Rev3 5G Mod

### Table of Contents
1. [Overview](#overview)
2. [Requirements](#1-requirements)
3. [Connecting the BW16](#2-connecting-the-bw16)
4. [Configuration](#3-configuration)
5. [Verifying Connection](#4-verifying-connection)
6. [Troubleshooting](#5-troubleshooting)
7. [Build Modifications](#6-build-modifications)

### Overview
Adds 5GHz scanning to the wardriver.uk. **A modified case or slim build is needed to ensure space for the extra board.** 

The [Build Modifications](#6-build-modifications) section at the bottom of the page has 3D-printable cases that will fit without modification.  

*As described by the creator of this project, Joseph Hewitt:*
> [!NOTE]  
>"The RX/TX of the BW16 should match the SIM800L RX/TX (but don't also connect the SIM800). I'm using the default BW16 AT firmware for now, so don't flash it.
Update A and B from the git main branch, then read the last entry here: wardriver.uk/advanced_config"

## 1. Requirements
- BW16 module with v1.1 AT firmware
- [Wardriver.uk](wardriver.uk) rev3 w/o SIM800L

## 2. Connecting the BW16

> [!WARNING] 
> Either the SIM800L or BW16 can be used. **Do not attach both**. This mod  sacrifices GSM towers for 5G WiFi networks.

- Connect RX/TX of the BW16 to the corresponding RX/TX on the board for the SIM800L.
- Connect the GND and VCC of the BW16 to the same row:

| SIM800L PCB Pin | BW16 Connection |
|-----------|-----------------|
| 5V        | VCC             |
| Pin 2     | Not Used        |
| RX        | RX              |
| TX        | TX              |
| GND       | GND             |


## 3. Configuration 

- **Create a plain text file named `cfg.txt`in the root folder of the SD card.** *This is the [advanced config file](wardriver.uk/advanced_config) and has several features.*

- **Add the line: `sb_bw16=yes` and save the file.** 

## 4. Verifying Connection

- Unit should display rev3 5g (mod) when initializing.  

- Once running, an additional number for 5G nets is added next to the 2G count:  `WiFi:25|20`

## 5. Troubleshooting

> [!IMPORTANT]  
> "There was a breaking change to the upstream ESP32 board library recently. Make sure you are using 2.0.12 because the 3.x branch isn't compatible yet" - Joseph Hewitt

## 6. Build Modifications 

> [!TIP]  
> Angle the "A" board to

### 5G Mod Cases

You can find cases made by others, modified to accommodate the three bulkheads [here](https://github.com/lukeswitz/3D-Prints/tree/main/Hewitt-Wardriver). Files with `5gFit` prefix fit well without build modifications. 

> [!TIP]
> Slide in the SMA bulkheads first.  Twist to ensure the UFLs will lay as flat as possible to the board. Then, angling the board down under the pigtails, carefully slide and seat it. 
