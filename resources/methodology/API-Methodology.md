## API Testing Methodology

1. [Enumerate](#enumerate)
2. [Attack Authorization](#attack-authorization)
3. [Attacking Authentication](#attacking-authentication)
4. [Injection](#injection)
5. [Mass Assignment](#mass-assignment)
6. [Excessive Data Exposure](#excessive-data-exposure)
7. [SSRF](#ssrf)
8. [Chaining Vulnerabilities w/Command Injection](#chaining-vulnerabilities-wcommand-injection)

### Enumerate

The process of identifying valid users, servers, network resources, and other entities in the system. For example, on a test API, you might try different user ID values to see if you can get access to data you shouldn't be able to.

```bash
http://testapi.com/user?id=1
http://testapi.com/user?id=2
http://testapi.com/user?id=3
```

### Attack Authorization

Testing the API's authorization checks. For example, you might try to access a resource that is supposed to be accessible only to admin users while authenticated as a normal user.

```bash
curl -H "Authorization: Bearer userToken" http://testapi.com/admin
```

### Attacking Authentication

Attempting to bypass the API's authentication. For example, you might try to use an expired or invalidated session token to make requests to the API.

```bash
GET /profile
Authorization: Bearer expiredToken
```

### Injection

Attempting to inject malicious code or strings into the API's input fields to exploit vulnerabilities. For example, you could test for SQL Injection vulnerabilities by sending SQL statements in the request data and observing the API's response.

```bash
sqlmap -u "http://testapi.com/user?id=1"
```

### Mass Assignment

The vulnerability that occurs when a user is allowed to set all properties of an object, including those that should not be publicly accessible. For example, you could try to create a new user with admin privileges by including an "isAdmin" property in the request body.

```bash
curl -d "username=user&password=pass&isAdmin=true" -X POST http://testapi.com/register
```

### Excessive Data Exposure

Testing the API to see if it reveals more data than necessary. For example, a user's profile endpoint might unnecessarily include sensitive information like password hashes or security questions.

```bash
curl http://testapi.com/user/profile
```

### SSRF (Server-Side Request Forgery)

A vulnerability where an attacker can make the server perform requests on their behalf. For example, you might try to get the server to make a request to an internal-only endpoint that shouldn't be accessible from outside the network.

```bash
curl -d "url=http://localhost/admin" -X POST http://testapi.com/ssrf
```

### Chaining Vulnerabilities w/Command Injection

Exploiting multiple vulnerabilities in sequence to achieve a greater impact. For example, you might first exploit a file upload vulnerability to upload a malicious script, then use a command injection vulnerability to execute that script.

```bash
# Upload the script
POST /upload HTTP/1.1
Host: testapi.com
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Length: ...

# Try to execute the script
curl -d "command=./uploadedScript.sh" -X POST http://testapi.com/command
```
