import re
import sys

def extract_domains(filename):
    with open(filename, 'r') as f:
        text = f.read()
    domain_regex = r'(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9]'
    domains = re.findall(domain_regex, text)
    unique_domains = list(set(domains))
    return unique_domains

def write_domains(filename, domains):
    with open(filename, 'w') as f:
        for domain in domains:
            f.write(domain + '\n')

def main(input_filename, output_filename):
    domains = extract_domains(input_filename)
    write_domains(output_filename, domains)

if __name__ == '__main__':
    if len(sys.argv) != 3:
        print("Usage: python DomainExtractor.py <input file> <output file>")
    else:
        main(sys.argv[1], sys.argv[2])
